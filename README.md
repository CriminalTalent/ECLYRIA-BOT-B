# 🎮 전투봇 완전 가이드

## 🚀 봇 실행

```bash
./bot.sh start    # 봇 시작
./bot.sh stop     # 봇 종료
./bot.sh restart  # 재시작
./bot.sh status   # 상태 확인
./bot.sh log      # 로그 실시간 보기
```

---

## 📋 기본 명령어

### 전투 시작
- `[전투개시/@참가자1/@참가자2]` - 1:1 전투
- `[전투개시/@A1/@A2/@B1/@B2]` - 2:2 팀전 (순서대로 팀A, 팀B)
- `[전투개시/@A1/@A2/@A3/@A4/@B1/@B2/@B3/@B4]` - 4:4 팀전

**예시:**
```
@Battle [전투개시/@Test/@Test_1]
@Battle [전투개시/@김철수/@이영희/@박민수/@최수진]
```

---

## ⚔️ 전투 중 명령어

### 공격
- **1:1**: `[공격]` - 상대 자동 공격
- **팀전**: `[공격/@타겟]` - 적 팀원 지정 공격

### 방어
- **자기 방어**: `[방어]` - 방어 태세 (방어력 +D20 보너스)
- **대리 방어** (팀전만): `[방어/@아군]` - 아군을 대신 보호

### 반격
- `[반격]` - 반격 태세 (상대 공격 성공 시 역공)

### 물약 사용
- `[물약사용/소형]` - 체력 +10 회복
- `[물약사용/중형]` - 체력 +20 회복
- `[물약사용/대형]` - 체력 +50 회복
- `[물약사용/소형/@아군]` - 아군 치료

### 도주
- `[도주]` - 민첩 + D20 ≥ 15 성공 시 전투 종료

### 전투 종료
- `[전투종료]` 또는 `[전투중단]` - GM만 가능

---

## 📊 전투 시스템

### 턴 순서
- 전투 시작 시 **민첩 + D20** 굴림으로 선공 결정
- 턴제 진행 (순서대로 행동)

### 공격 판정
```
공격력 = 공격스탯 + D20
방어력 = 방어스탯 + D20
데미지 = 공격력 - 방어력 (최소 0)
```

### 크리티컬
- **행운스탯**에 따라 크리티컬 확률 증가
- 크리티컬 시 **데미지 1.5배**
- 공식: 크리 확률 = (20 - 행운/2) 이상

### 방어 태세
- 방어 선택 시 **추가 D20 굴림**
- 방어력 = 방어스탯 + D20 + D20(보너스)

### 반격
- 반격 태세 시 공격 받으면 **즉시 역공격**
- 반격력 > 상대 공격력 시 성공
- 반격 데미지 = 반격력 - 상대 공격력

### 대리 방어 (팀전)
- 아군을 보호하는 태세
- 다음 공격 시 **자신이 대신 받음**

---

## 📈 스탯 시스템

### 기본 스탯 (0~10)
- **공격**: 공격력에 직접 영향
- **방어**: 방어력에 직접 영향
- **민첩**: 선공 결정, 도주 성공률
- **행운**: 크리티컬 확률
- **체력**: 최대 HP 증가 (체력 1당 +10 HP)

### HP 시스템
- 기본 HP: **100**
- 최대 HP: **100 + (체력스탯 × 10)**
- 예: 체력 5 → 최대 150 HP

---

## 🎯 전투 예시

### 1:1 전투 흐름
```
1. @Battle [전투개시/@Test/@Test_1]
   → "1:1 전투 시작"
   → "선공: Test"

2. [공격]
   → "Test의 공격: 공격 5 + D20: 15 = 20"
   → "Test_1의 방어: 방어 3 + D20: 10 = 13"
   → "7 데미지"
   → 체력 현황 표시

3. [방어] 또는 [반격] 또는 [공격]
   ...
```

### 2:2 팀전 흐름
```
1. @Battle [전투개시/@A1/@A2/@B1/@B2]
   → "팀A: A1, A2"
   → "팀B: B1, B2"

2. [공격/@B1]
   → 적 팀원 지정 필수

3. [방어/@A2]
   → 아군 보호 가능
```

---

## ⚠️ 주의사항

1. **턴 순서 엄수** - 자기 차례에만 행동 가능
2. **팀전은 타겟 필수** - `[공격/@상대]` 형식
3. **물약 보유 확인** - 사용 전 아이템 보유 필요
4. **GM만 강제종료** - 전투 개설자만 중단 가능
5. **HP 0 = 패배** - 즉시 전투에서 퇴장

---

## 🔍 기타 명령어

### 상태 확인
- `[체력확인]` - 자신의 HP 상태 확인

### 전투 정보
- 매 턴마다 **양측 체력바** 자동 표시
- HP 바: `████████░░ 80/100`

---

**완료! 전투를 즐기세요!** ⚔️🛡️
